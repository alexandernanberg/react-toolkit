#!/usr/bin/env node

'use strict'

const meow = require('meow')
const execa = require('execa')

const defaultCommand = 'dev'
const commands = new Set(['build', defaultCommand])

const cli = meow(`
  Usage
    $ react-toolkit <command>

  Available commands
    ${Array.from(commands).join(', ')}
`)

const cmd = cli.input[0] || defaultCommand

if (!commands.has(cmd)) {
  console.log(`
  Unknown command "${cmd}". Use the --help flag to list available commands.`)
  process.exit(0)
}

execa('node', [require.resolve(`../scripts/${cmd}`)], {
  stdio: 'inherit',
}).catch((e) => {
  console.log(e)
})
